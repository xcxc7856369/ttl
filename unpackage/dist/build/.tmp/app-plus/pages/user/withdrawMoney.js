(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/withdrawMoney"],{1542:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{height:"",merchantId:"",allmoney:"",money:"",card:"",key:-1,xz:"../../static/user/xz.png",wxz:"../../static/user/wxz.png",type:1}},onLoad:function(){var e=this;t.getStorage({key:"userinfo",success:function(t){e.merchantId=t.data.id,e.getinfor()}})},onReady:function(){this.getTopheight()},methods:{getTopheight:function(){var e=this;t.getSystemInfo({success:function(t){e.height=t.statusBarHeight+44+"px"}})},getinfor:function(){var e=this;t.request({url:this.serveipd+"/api/merchant/money/balance",method:"GET",data:{merchantId:e.merchantId},success:function(t){e.allmoney=t.data.data},fail:function(){},complete:function(){}}),t.request({url:this.serveipd+"/api/merchant/money/selectMerchantBank",method:"GET",data:{merchantId:e.merchantId},success:function(t){console.log(t),e.card=t.data.data},fail:function(){},complete:function(){}})},getAllmoney:function(){this.money=this.allmoney},choice:function(t){this.key=t,this.type=2},zfb:function(){this.key=-1,this.type=1},extract:function(){var e=this,a=/^[1-9]\d{0,7}(\.\d{1,3})?$|^0(\.\d{1,3})?$/;if(""!=e.money)if(a.test(e.money)){var n=.02*e.money,i="";1!=e.type&&(i=e.card[e.key].bankCardno,parseInt(e.money)+n<=e.allmoney&&t.request({url:this.serveipd+"/api/merchant/money/merchantWithdrawal",header:{"Content-type":"application/x-www-form-urlencoded"},method:"POST",data:{merchantId:e.merchantId,money:e.money,handlingFee:n,type:e.type,bankCard:i},success:function(e){e.data&&t.showToast({title:"提现成功",duration:2e3,success:function(){setTimeout(function(){t.navigateBack({delta:1})},2e3)}})},fail:function(){},complete:function(){}}))}else t.showToast({title:"金额输入有误",icon:"none"});else t.showToast({title:"请输入金额",icon:"none"})}}};e.default=a}).call(this,a("6e42")["default"])},"613d":function(t,e,a){"use strict";a("b007");var n=s(a("b0ce")),i=s(a("a956"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},"8c82":function(t,e,a){"use strict";a.r(e);var n=a("1542"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},a956:function(t,e,a){"use strict";a.r(e);var n=a("eca8"),i=a("8c82");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("e017");var o=a("2877"),c=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},e017:function(t,e,a){"use strict";var n=a("f61b"),i=a.n(n);i.a},eca8:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"navigation",style:{height:t.height}},[a("navigator",{staticClass:"left",attrs:{"open-type":"navigateBack","hover-class":"none"}},[a("image",{attrs:{src:"../../static/Merchan_registration/back.png",mode:""}})]),a("view",{staticClass:"title"},[t._v("提现")]),a("view",{staticClass:"right"})],1),a("view",{staticClass:"content",style:{paddingTop:t.height}},[a("view",{staticClass:"top"},[a("view",{staticClass:"title"},[t._v("提现金额(手续费2%)")]),a("view",{staticClass:"money"},[a("text",[t._v("￥")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.money,expression:"money"}],attrs:{type:"text",focus:"true",eventid:"32199e76-0"},domProps:{value:t.money},on:{input:function(e){e.target.composing||(t.money=e.target.value)}}})]),a("view",{staticClass:"tip"},[a("text",[t._v("可提现金额 ￥"+t._s(t.allmoney))]),a("text",{staticClass:"red",attrs:{eventid:"32199e76-1"},on:{tap:t.getAllmoney}},[t._v("全部提现")])])]),a("view",{staticClass:"mode"},[a("view",{staticClass:"mode_list"},[t._m(0),a("view",{staticClass:"choice",attrs:{eventid:"32199e76-2"},on:{tap:function(e){t.zfb()}}},[a("image",{attrs:{src:-1==t.key?t.xz:t.wxz,mode:""}})])]),t._l(t.card,function(e,n){return a("view",{key:n,staticClass:"mode_list"},[a("view",{staticClass:"alipay"},[a("image",{attrs:{src:"../../static/zfb.png",mode:""}}),a("text",[t._v("建设银行("+t._s(e.bankCardno.slice(-4))+")")])]),a("view",{staticClass:"choice",attrs:{eventid:"32199e76-3-"+n},on:{tap:function(e){t.choice(n)}}},[a("image",{attrs:{src:t.key==n?t.xz:t.wxz,mode:""}})])])})],2),a("view",{staticClass:"bind"},[a("navigator",{attrs:{url:"./bindCard","hover-class":"none"}},[t._v("添加银行卡")])],1),a("button",{staticClass:"btn",attrs:{type:"primary",eventid:"32199e76-4"},on:{tap:function(e){t.extract()}}},[t._v("立即提现")])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"alipay"},[a("image",{attrs:{src:"../../static/zfb.png",mode:""}}),a("text",[t._v("支付宝")])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},f61b:function(t,e,a){}},[["613d","common/runtime","common/vendor"]]]);