(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/basicinfo"],{"37ff":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"ttl_view"},[a("view",{staticClass:"ttl_status_bar"}),a("view",{staticClass:"ttl_head"},[a("view",{staticClass:"ttl_left"},[a("view",{staticClass:"ttl_left_iconfont",attrs:{eventid:"34ca3708-0"},on:{click:t.back}},[t._v("")])]),a("view",{staticClass:"ttl_head_title"},[t._v("基本设置")]),a("view",{staticClass:"ttl_right"},[a("view",{staticClass:"ttl_right_btn",attrs:{eventid:"34ca3708-1"},on:{tap:t.preserve}},[t._v("保存")])])])]),a("view",{style:{height:t.windowHeight+"px"}}),a("view",{staticClass:"chunck"}),a("view",{staticClass:"list_v"},[a("text",{staticClass:"title"},[t._v("店铺名称")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.storename,expression:"storename"}],staticClass:"info",attrs:{eventid:"34ca3708-2"},domProps:{value:t.storename},on:{input:function(e){e.target.composing||(t.storename=e.target.value)}}})]),a("view",{staticClass:"list_v"},[a("text",{staticClass:"title"},[t._v("接单电话")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"info",attrs:{eventid:"34ca3708-3"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("view",{staticClass:"list_v"},[a("text",{staticClass:"title"},[t._v("负责人电话")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"info",attrs:{eventid:"34ca3708-4"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),a("view",{staticClass:"list_v"},[a("text",{staticClass:"title"},[t._v("店铺地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"info",attrs:{eventid:"34ca3708-5"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})]),a("view",{staticClass:"list_v",attrs:{eventid:"34ca3708-6"},on:{tap:function(e){t.tg="block"}}},[a("text",{staticClass:"title"},[t._v("营业时间")]),a("view",{staticClass:"info"},[t._v(t._s("00:00-24:00"==t.workTime?"24小时营业":t.workTime))])]),a("view",{staticClass:"list_v  logo"},[a("text",{staticClass:"title "},[t._v("店铺商标")]),a("image",{attrs:{src:t.old_log,mode:"aspectFit",eventid:"34ca3708-7"},on:{tap:t.add_logo}})]),a("view",{staticClass:"list_v logo"},[a("text",{staticClass:"title"},[t._v("营业执照/资格证")]),a("image",{attrs:{src:t.old_license,mode:"aspectFit",eventid:"34ca3708-8"},on:{tap:t.add_license}})]),a("view",{staticClass:"mask",style:{display:t.tg}},[a("view",{staticClass:"norms"},[a("view",{staticClass:"title"},[t._v("营业时间")]),a("view",{staticClass:"policy_list"},[a("text",[t._v("营业日")]),a("picker",{attrs:{mode:"multiSelector",value:t.weekIndex,range:t.weekArray,eventid:"34ca3708-9"},on:{columnchange:t.weekChange}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.day))])])],1),a("view",{staticClass:"policy_list"},[a("text",[t._v("24小时可用")]),a("switch",{staticClass:"switchbtn",attrs:{checked:t.allday,eventid:"34ca3708-10"},on:{change:t.switchChange}})]),a("view",{directives:[{name:"show",rawName:"v-show",value:!t.allday,expression:"!allday"}],staticClass:"policy_list"},[a("text",[t._v("营业时间")]),a("picker",{attrs:{mode:"multiSelector",value:t.multiIndex,range:t.multiArray,eventid:"34ca3708-11"},on:{columnchange:t.bindMultiPickerColumnChange}},[a("view",{staticClass:"uni-input"},[t._v(t._s(t.time))])])],1),a("view",{staticClass:"btn"},[a("text",{staticClass:"cancel",attrs:{eventid:"34ca3708-12"},on:{tap:function(e){t.cancel()}}},[t._v("取消")]),a("text",{staticClass:"determine",attrs:{eventid:"34ca3708-13"},on:{tap:function(e){t.determine()}}},[t._v("确定")])])])])])},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"421b":function(t,e,a){"use strict";var i=a("fffe"),s=a.n(i);s.a},"621e":function(t,e,a){"use strict";a.r(e);var i=a("951f"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"951f":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(a("11c7"));function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var o={components:{uniIcon:i.default},data:function(){var t;return t={tg:"none",id:"",storename:"",trademark:"",phone:"",phonetwo:"",address:"",bushours:"",windowHeight:"",logo_id:"",workDay:"",workTime:"",day:"选择日期",time:"选择时间",license_id:"",license_src:"../../static/user/sczt.png",logo_src:"../../static/user/sczt.png",multiArray:[["0:00","1:00","2:00","3:00","4:00","5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"],["0:00","1:00","2:00","3:00","4:00","5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"]],multiIndex:[0,0],weekArray:[["周一","周二","周三","周四","周五","周六","周日"],["周一","周二","周三","周四","周五","周六","周日"]],weekIndex:[0,0]},n(t,"workTime","24小时营业"),n(t,"workDay","周一至周一"),n(t,"allday",!1),n(t,"old_log",""),n(t,"old_license",""),t},onLoad:function(e){var a=this;a.windowHeight=this.statusBarHeight+44,t.getStorage({key:"userinfo",success:function(t){a.id=t.data.id,a.getinfo()}}),console.log(a.workDay,a.workTime)},methods:{getinfo:function(){var e=this;t.showLoading({title:"",mask:!1}),t.request({url:e.serveipd+"/api/merchant/auth/info/"+e.id,method:"GET",data:{id:e.id},success:function(a){console.log(a.data),e.storename=a.data.data.name,e.address=a.data.data.shopAddress,e.phone=a.data.data.mobile,e.old_license=a.data.data.licensePicUrl,e.old_log=a.data.data.shopTrademarkUrl,"00:00-24:00"==a.data.data.businessHours&&(e.workTime="24小时营业"),t.hideLoading()},fail:function(){},complete:function(){}})},add_logo:function(){var e=this,a=this;t.chooseImage({count:1,sizeconfirmtype:["original","compressed"],success:function(i){e.logo_src=i.tempFilePaths[0],e.old_log=e.logo_src,t.uploadFile({url:a.serveipd+"/ajax/upfile",filePath:a.logo_src,name:"upfile",formData:{},success:function(t){console.log(1),a.logo_id=parseInt(JSON.parse(t.data).id)}})}})},add_license:function(){var e=this,a=this;t.chooseImage({count:1,sizeconfirmtype:["original","compressed"],success:function(i){e.license_src=i.tempFilePaths[0],e.old_license=e.license_src,t.uploadFile({url:a.serveipd+"/ajax/upfile",filePath:a.license_src,name:"upfile",formData:{},success:function(t){console.log(2),a.license_id=parseInt(JSON.parse(t.data).id)}})}})},weekChange:function(t){this.weekIndex[t.detail.column]=t.detail.value,this.day=this.weekArray[0][this.weekIndex[0]]+"至"+this.weekArray[1][this.weekIndex[1]],this.$forceUpdate()},bindMultiPickerColumnChange:function(t){this.multiIndex[t.detail.column]=t.detail.value,this.time=this.multiArray[0][this.multiIndex[0]]+"-"+this.multiArray[1][this.multiIndex[1]],console.log(this.workTime),this.$forceUpdate()},cancel:function(){this.tg="none"},switchChange:function(t){var e=this;e.allday=t.target.value,1==t.target.value&&(e.workTime="00:00-24:00",console.log(e.workTime))},determine:function(){this.tg="none",this.workDay=this.day,1!=this.allday&&(this.workTime=this.time)},preserve:function(){var e=this;t.showLoading({title:"",mask:!1}),t.request({url:this.serveipd+"/api/merchant/auth/updateBaseInfo",method:"POST",data:{id:e.id,name:e.storename,mobile:e.phone,shopAddress:e.address,businessDay:e.weekIndex.toString(),businessHours:e.workTime,shopTrademark:e.logo_id,licensePic:e.license_id},success:function(e){t.showToast({title:e.data.msg,icon:"none",mask:!1,duration:1500})},fail:function(){},complete:function(){}})},back:function(){t.navigateBack({delta:1})}}};e.default=o}).call(this,a("6e42")["default"])},"9c97":function(t,e,a){"use strict";a("b007");var i=n(a("b0ce")),s=n(a("dbf8"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},dbf8:function(t,e,a){"use strict";a.r(e);var i=a("37ff"),s=a("621e");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("421b");var o=a("2877"),l=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,null,null);e["default"]=l.exports},fffe:function(t,e,a){}},[["9c97","common/runtime","common/vendor"]]]);