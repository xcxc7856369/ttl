(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/wares/wares"],{"40d4":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{staticClass:"navigation",style:{height:t.height}},[s("view",{staticClass:"left"}),s("view",{staticClass:"title"},[t._v("鲁西肥牛")]),s("navigator",{staticClass:"add_wares right",attrs:{url:"add_wares","hover-class":"none"}},[s("image",{attrs:{src:"../../static/tj.png",mode:""}})])],1),s("view",{staticClass:"top_box",style:{top:t.height}},[s("view",{staticClass:"sort"},[s("view",{staticClass:"title",class:{tab_active:t.KG},attrs:{eventid:"07dd9e79-0"},on:{tap:t.open}},[s("text",[t._v("全部分类")]),s("image",{attrs:{src:t.KG?t.up:t.dow,mode:""}})]),s("view",{staticClass:"list",class:{active:t.KG}},t._l(t.allCategories,function(e,a){return s("view",{key:e.id,attrs:{eventid:"07dd9e79-1-"+a},on:{tap:function(s){t.getCommodity(e.id)}}},[t._v(t._s(e.name))])}))]),s("view",{staticClass:"sort"},[s("view",{staticClass:"title",class:{tab_active:t.KG_sc},attrs:{eventid:"07dd9e79-2"},on:{tap:t.open_screen}},[s("text",[t._v("筛选")]),s("image",{attrs:{src:t.KG_sc?t.up:t.dow,mode:""}})]),s("view",{staticClass:"list right",class:{active:t.KG_sc}},t._l(t.state,function(e,a){return s("view",{key:a,attrs:{eventid:"07dd9e79-3-"+a},on:{tap:function(e){t.screen(a)}}},[t._v(t._s(e))])}))])]),s("view",{staticClass:"content",style:{paddingTop:t.height_a}},[s("view",{staticClass:"wares_box"},t._l(t.commodities,function(e,a){return s("view",{key:e.id,staticClass:"wares_list"},[s("view",[s("image",{attrs:{src:e.iconUrl,mode:""}})]),s("view",{staticClass:"wares_infor"},[s("text",{staticClass:"name"},[t._v(t._s(e.name))]),s("text",{staticClass:"sales_volume"},[t._v("月售"+t._s(e.sell_num))]),s("view",[s("text",{staticClass:"money"},[t._v("￥"+t._s(e.price))]),0!=e.enabled?s("button",{staticClass:"down",class:[t.key==a?"off_shelf":""],attrs:{eventid:"07dd9e79-4-"+a},on:{tap:function(s){t.cease(e.id,a)}}},[t._v("下架")]):s("button",{staticClass:"down off_shelf"},[t._v("已下架")])],1)])])}))])])},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},"42d5":function(t,e,s){},6396:function(t,e,s){"use strict";s("b007");var a=n(s("b0ce")),i=n(s("ee6a"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},9612:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{height:"",height_a:"",KG:!1,KG_sc:!1,state:["在售中","已售空","已下架"],allCategories:[],commodities:[],id:"",dow:"../../static/x.png",up:"../../static/s.png",key:-1}},onLoad:function(){var e=this;t.getStorage({key:"userinfo",success:function(t){e.merchantId=t.data.id,e.getSort()}})},onReady:function(){this.getTopheight()},methods:{getTopheight:function(){var e=this;t.getSystemInfo({success:function(t){e.height=t.statusBarHeight+44+"px",e.height_a=t.statusBarHeight+44+50+"px"}})},open:function(){this.KG=!this.KG,this.KG_sc=!1},open_screen:function(){this.KG_sc=!this.KG_sc,this.KG=!1},getSort:function(){var e=this;t.request({url:this.serveipd+"/api/merchantApi/allCategories",method:"GET",data:{merchantId:e.merchantId},success:function(t){for(var s=0;s<t.data.data.length;s++)e.allCategories.push(t.data.data[s])},fail:function(){},complete:function(){}})},getCommodity:function(e){this.KG=!this.KG;var s=this;s.id=e,t.request({url:this.serveipd+"/api/merchantApi/classified",method:"GET",data:{merchantId:s.merchantId,category_id:e},success:function(t){console.log(t);for(var e=[],a=0;a<t.data.data.length;a++)e.push(t.data.data[a]);s.commodities=e}})},screen:function(e){this.KG_sc=!this.KG_sc;var s=this;t.request({url:this.serveipd+"/api/merchantApi/screen",method:"GET",data:{merchantId:s.merchantId,commodityStatus:e,category_id:s.id},success:function(t){console.log(t);for(var e=[],a=0;a<t.data.data.datas.length;a++)e.push(t.data.data.datas[a]);s.commodities=e}})},cease:function(e,s){var a=this;t.request({url:this.serveipd+"/api/merchantApi/lowerShelf",method:"GET",data:{id:e,enabled:0},success:function(t){var s=a.commodities.find(function(t){return t.id==e});s.enabled=0,console.log(t)}})}}};e.default=s}).call(this,s("6e42")["default"])},"9db6":function(t,e,s){"use strict";s.r(e);var a=s("9612"),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e["default"]=i.a},c23a:function(t,e,s){"use strict";var a=s("42d5"),i=s.n(a);i.a},ee6a:function(t,e,s){"use strict";s.r(e);var a=s("40d4"),i=s("9db6");for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s("c23a");var c=s("2877"),o=Object(c["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports}},[["6396","common/runtime","common/vendor"]]]);